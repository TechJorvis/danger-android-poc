name: DangerJS Check CI

on:
    push:
        branches:
            - main
    
    pull_request:
        branches:
            - main

jobs:
  dangerjs-check:
      runs-on: ubuntu-latest

      defaults:
          run:
            working-directory: ./Danger
      
      steps:
        - uses: actions/checkout@master
        
        - name: Use Node.js 12.x
          uses: actions/setup-node@v1
          with:
            node-version: 12.x
    
        - name: Danger
          run: npx danger ci
          env:
            GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}